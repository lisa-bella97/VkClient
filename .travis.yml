language: generic

# Можно тестировать только на одной платформе (в данном случае выбрано osx, clang-3.8)

matrix:
  include:
    #- os: linux
      #sudo: required
      #env: COMPILER_NAME=gcc CXX=g++-5 CC=gcc-5
      #addons:
        #apt:
          #packages:
            #- g++-5
            #- cmake
          #sources: &sources
            #- llvm-toolchain-precise
            #- ubuntu-toolchain-r-test
    - os: osx
      compiler: clang-3.8
      env: COMPILER="clang++-3.8" -std=c++11 OPENSSL_ROOT_DIR="/usr/local/opt/openssl"

env:
  global:
    - secure: "O9H+bDuxdq0OXbIaYrwsqyXk6a5V3JgBMg7KELVYrq0pCl4d/w4xAvSSJfCrFeC7kgXsxXE52pxqCsydqH3J2sjiaymf1mAXGFnR+AYem7wVwJd9pvStNT4e1ek5IsjAkD/sUnDWwLLIYNhTPUyvVIfd1apBynYrAnrDYPYxFKYPwlGG8YCM58xK9XdzeifirzagCh+6Mbuhmu8iwUhNM3gfD1A8bPXhCCuYYpE0wV8C6Dmsat0uxRLYC0XfiZGXW4kxi5NRcVSEGE2R9X1kCr7K8UBJm2CUomqa75G0MmHuXgW9ECvDCABGK1r9BWUUmZtaI9Vdh+aylmqALYizeC2Z+HgSMpiSe6+WhRZClkRzkSBe2d5apoCJ4HFzOPzTW/JwNHeGFfFHXVU1f6EMAjqsCWoXewX/MD8Q+Nen2zUFClmE/PgKeRMtq8+Tog60BIJ3ogtF0TMrOs8uK6LO+7FBwfoF3Vf0zQQ5jo9HYCElPEA6f4EC6g2rYmus4KtvYJxab0eMH4hpRkvdBCwwFDLPN+b4Ul/287cnuGBZRORmBODa04sqn6byGv5lKDMNTqQQftj2joJFZDdJWXAEof5OAzhbf2Sr0Sypu9bYzkzKroxcNKXORlZhcOQ2U4yVm/OAbhB0vnaHPbm00azXRByGnCDkg2xtjYCWpdSH6yU="
    - secure: "xt+zck+c1IbPgE4Q3HzgbQBVK4hTLNkd3GD+Iv9S4ozvWRN+ojg+6wLWoyA3uF+gMbFvquavylOSL+ISd5rFQSY0rpKrKwb8BA5b/B5Pb8XOB8CRyL2YYFyO0n29Izg/x+MthqjESI9yrTJfBUc2XuDI0nr14e1OGyDKqpDBIrP4hd21KIbThlk/W4azaGfyWjY0Q1l2BKhB0iUS9hu01YX80zDJSiAMpt2/pAHAGk9Hb8HiZqYzCryt1soKgttY5yUTqWvAlyQP9QzFEnKqQp6TP5G6DNWonP8BHYtKivBHOlRraaB8GlXIoUPFpk942pSXtlAU7ecIRvgNTusdRnI0mk1dw0oPLHO9wlvhvwSYKhDVZANIu/qK0LvNen6xyASjRqmXpTCLqJBL0C5oc6xKg04NuAISCU7DILyhNEVukPZAP1W6qGi7Jt4xIq1XisoZMHjThEv9XBB7dg4uWEZ+vdfjoNexKa++n484B6EqqyAxlW5g8hMJvLfVDw207KPgfbZrmlNM+e6tPsEs6sTPU1NJYyM4NXXuM4Bh0HhiTzQivggbUlw5hT3kMWST9aBGt823URktXhUwotBui3B0GU7tJYXfx7jHJdCEmBoEQ+twnIVStmH9s9fY7EgYeIWtAHhpd4Bn6jriDL85Y8hLhRU2TkrEO+lJ+QxAldw="

script:
  - mkdir build && cd build
  - cmake .. -DOPENSSL_ROOT_DIR=/usr/local/ssl -DOPENSSL_LIBRARIES=/usr/local/ssl/lib && make
  - ./check -s -r compact
